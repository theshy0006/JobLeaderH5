{"version":3,"sources":["uni-app:///main.js","webpack:////Users/dede/Desktop/STWorker/pages/detail/detail.vue?da7b","webpack:////Users/dede/Desktop/STWorker/pages/detail/detail.vue?9f9b","webpack:////Users/dede/Desktop/STWorker/pages/detail/detail.vue?18bc","webpack:////Users/dede/Desktop/STWorker/pages/detail/detail.vue?2132","uni-app:///pages/detail/detail.vue","webpack:////Users/dede/Desktop/STWorker/pages/detail/detail.vue?ca1a","webpack:////Users/dede/Desktop/STWorker/pages/detail/detail.vue?2033"],"names":["createPage","Page"],"mappings":"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","file":"pages/detail/detail.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/detail/detail.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./detail.vue?vue&type=template&id=3e159eb4&\"\nvar renderjs\nimport script from \"./detail.vue?vue&type=script&lang=js&\"\nexport * from \"./detail.vue?vue&type=script&lang=js&\"\nimport style0 from \"./detail.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/detail/detail.vue\"\nexport default component.exports","export * from \"-!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./detail.vue?vue&type=template&id=3e159eb4&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var l0 = _vm.__map(_vm.eventProgressList, function(item1, index1) {\n    var $orig = _vm.__get_orig(item1)\n\n    var g0 = item1.createTime.substring(5, 16)\n    return {\n      $orig: $orig,\n      g0: g0\n    }\n  })\n\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        l0: l0\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./detail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./detail.vue?vue&type=script&lang=js&\"","<template>\n    <view>\n        <cu-custom bgColor=\"bg-gradual-blue\" :isBack=\"true\">\n        \t<block slot=\"backText\">返回</block>\n        \t<block slot=\"content\">\n                <view class=\"topFont\">事件详情</view>\n                </block>\n        </cu-custom>\n        <view class=\"flex flex-direction\">\n            <view class=\"top\" :style=\"{'color' : statusColor}\">\n                {{showStatus}}\n            </view>\n        </view>\n        <view class=\"eventItem bg-white flex flex-direction radius\">\n            <form>\n                <view class=\"cu-form-group\">\n                    <view class=\"title\">事件类型</view>\n                    <view>{{showEnent}}</view>\n                </view>\n                <view class=\"cu-form-group align-start\">\n                    <view class=\"title\">事件描述</view>\n                    <textarea\n                    @input=\"textareaBInput\"\n                    placeholder=\"这是一个问题\" class=\"textareaa\" :value=\"eventDescription\"></textarea>\n                </view>\n                <view class=\"cu-form-group\">\n                    <view class=\"title\">位置</view>\n                    <view>{{location}}</view>\n                </view>\n            </form>\n        </view>\n        \n        <view class=\"eventItem bg-white flex flex-direction radius\">\n            <view class=\"listTop\">事件进度</view>\n            <view class=\"cu-timeline\" v-for=\"(item1,index1) in eventProgressList\" :key=\"index1\">\n                <view class=\"cu-time\">{{item1.createTime.substring(5,16)}}</view>\n                <view class=\"cu-item\">\n                    <view class=\"content custonItem\">\n                        <view class=\"eventContent\">\n                            {{item1.name}}<br>{{item1.description}}\n                        </view>\n                        <view class=\"eventImage\">\n                            <image class=\"smallBig\" :src=\"item1.image1\" @tap=\"ViewImage\" :data-url=\"item1.image1\"></image>\n                            <image class=\"smallBig\" :src=\"item1.image2\" @tap=\"ViewImage\" :data-url=\"item1.image2\"></image>\n                            <image class=\"smallBig\" :src=\"item1.image3\" @tap=\"ViewImage\" :data-url=\"item1.image3\"></image>\n                        </view>\n                    </view>\n                </view>\n            </view>\n        </view>\n        \n        <view v-if=\"type == '2' && status == '2'\" class=\"bottomRect\">\n            <image src=\"../../static/uploadTwo.png\" class=\"uploadOne\" @click=\"gotoUpload\">\n            </image>\n        </view>\n    </view>\n</template>\n\n<script>\n    import Vue from 'vue'\n    import {\n    \tmapState\n    } from 'vuex'\n\texport default {\n        computed: {\n            ...mapState(['token', 'id', 'type']),\n            showStatus:function() {\n                if ( this.status == \"1\" ) {\n                    return \"调度中\"\n                } else if ( this.status == \"2\" ) {\n                    return \"整改中\"\n                } else if ( this.status == \"3\" ) {\n                    return \"已整改\"\n                } else if ( this.status == \"4\" ) {\n                    return \"待复核\"\n                } else if ( this.status == \"5\" ) {\n                    return \"已完成\"\n                } else {\n                    return \"\"\n                }\n            },\n            statusColor:function() {\n                if ( this.status == \"1\" ) {\n                    return '#EDA51F'\n                } else if ( this.status == \"2\" ) {\n                    return '#EDA51F'\n                } else if ( this.status == \"3\" ) {\n                    return '#EDA51F'\n                } else if ( this.status == \"4\" ) {\n                    return '#ED4E1F'\n                } else if ( this.status == \"5\" ) {\n                    return '#1ACE0A'\n                } else {\n                    return '#EDA51F'\n                }\n            },\n            showEnent:function() {\n                if ( this.eventType == \"1\" ) {\n                    return \"路面问题\"\n                } else if ( this.eventType == \"2\" ) {\n                    return \"垃圾桶问题\"\n                } else {\n                    return \"其它问题\"\n                }\n            },\n        },\n        onLoad: function (option) {\n            this.phone = option.phone;\n            this.eventDescription=option.eventDescription\n            this.uploadTime=option.uploadTime\n            this.eventType = option.eventType\n            this.location = option.location\n            this.eventId = option.eventId  \n            this.deptName = option.deptName\n            this.deptId = option.deptId\n            this.longitude = option.longitude\n            this.latitude= option.latitude\n            \n            \n        },\n        onShow() {\n            this.getDetail();\n        },\n\t\tdata() {\n\t\t\treturn {\n                eventId:'',\n                phone:'',\n                test:'哈哈哈哈',\n                eventDescription:\"哈哈哈哈哈哈哈哈哈\",\n                uploadTime:'',\n                eventType:\"0\",\n                location:'',\n                name:'',\n                status:'',\n                eventProgressList:[],\n                deptName:'',\n                deptId:0,\n                longitude:'',\n                latitude:''\n\t\t\t}\n\t\t},\n\t\tmethods: {\n            gotoUpload() {\n                uni.navigateTo({\n                    url:(\"../upload/upload?deptName=\"+this.deptName\n                    + \"&deptId=\"+this.deptId \n                    + \"&phone=\"+this.phone\n                    + \"&longitude=\"+this.longitude\n                    + \"&latitude=\"+this.latitude\n                    )\n                })\n            },\n            ViewImage(e) {\n            \tuni.previewImage({\n            \t\tcurrent: e.currentTarget.dataset.url\n            \t});\n            },\n            loadModal(e) {\n            \tuni.showLoading({\n            \t\ttitle: 'loading'\n            \t});\n            },\n            hideModal(e) {\n            \tuni.hideLoading();\n            },\n\t\t\tgetDetail() {\n                this.loadModal()\n\t\t\t    var that = this;\n\t\t\t    uni.request({\n\t\t\t        url: this.GLOBAL.QueryEventDetail,\n\t\t\t        dataType: 'jsonp',\n\t\t\t        method: 'GET',\n\t\t\t        header: {\n\t\t\t            access_token:this.token,\n\t\t\t        },\n\t\t\t        data: {\n\t\t\t        \taccess_token:this.token,\n\t\t\t            eventId:this.eventId,\n\t\t\t            phoneNum:this.phone,\n\t\t\t        }\n\t\t\t    }).then(data => {\n\t\t\t        uni.hideLoading();\n\t\t\t        //data为一个数组，数组第一项为错误信息，第二项为返回数据\n\t\t\t        var [error, res]  = data;\n\t\t\t        console.log(res.data);\n\t\t\t        let response = JSON.parse(res.data);\n\t\t\t\n\t\t\t        if( response.code == 200 ) {\n                        that.status = response.result.status\n                        that.uploadTime = response.result.uploadTime\n                        that.eventType = response.result.eventType\n                        that.eventProgressList = response.result.eventProgressList\n                        that.location = response.result.location \n\t\t\t        } else {\n\t\t\t            if (response.code == \"000009\") {\n\t\t\t                uni.clearStorage()\n\t\t\t                that.$store.commit('logout')\n\t\t\t                uni.reLaunch({\n\t\t\t                    url:'../launchPage/launchPage'\n\t\t\t                });\n\t\t\t                setTimeout(function () {\n\t\t\t                    uni.showToast({\n\t\t\t                    \ttitle:response.message,\n\t\t\t                        duration: 2000,\n\t\t\t                    \ticon:\"none\"\n\t\t\t                    })\n\t\t\t                }, 1500);\n\t\t\t            } else {\n\t\t\t                \n\t\t\t            } \n\t\t\t        }\n\t\t\t    }).catch(err => {\n\t\t\t        uni.hideLoading();\n\t\t\t    \tuni.showModal({\n\t\t\t    \t\tcontent: err.errMsg,\n\t\t\t    \t\tshowCancel: false\n\t\t\t    \t});\n\t\t\t        if (this.longitude > 0.01) {\n\t\t\t            that.initData();\n\t\t\t        }\n\t\t\t    });\n\t\t\t},\n\t\t}\n\t}\n</script>\n\n<style>\n    .top {\n        height: 218rpx;\n        width: 100%;\n        color: #EDA51F;\n        font-size: 48rpx;\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n        justify-content: center;\n    }\n\n    .eventItem {\n        margin-top: 20rpx;\n        margin-left: 10rpx;\n        margin-right: 10rpx;\n    }\n    \n    .textareaa {\n        text-align: right;\n        height: 80rpx;\n    }\n    \n    .listTop {\n        margin-top: 20rpx;\n        margin-left: 20rpx;\n        color: #333333;\n        font-size: 32rpx;\n    }\n    .custonItem {\n        display: flex;\n        flex-direction: row;\n        width: 100%;\n    }\n    \n    .eventImage {\n        display: flex;\n        flex-direction: row;\n        justify-content: space-around;\n    }\n    \n    .smallBig {\n        width: 100rpx;\n        height: 100rpx;\n    }\n    .bottomRect {\n        display: flex;\n        flex-direction: row;\n        align-items: center;\n        justify-content: center;\n        position: fixed;\n        bottom: 20rpx;\n        margin-left: calc(50% - 72rpx);;\n    }\n    .uploadOne {\n        width: 144rpx;\n        height: 144rpx;\n    }\n</style>\n","import mod from \"-!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./detail.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./detail.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1605863855279\n      var cssReload = require(\"/Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}