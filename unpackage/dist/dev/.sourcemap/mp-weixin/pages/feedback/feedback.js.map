{"version":3,"sources":["uni-app:///main.js",null,"webpack:////Users/dede/Desktop/JobLeaderH5/pages/feedback/feedback.vue?f048","webpack:////Users/dede/Desktop/JobLeaderH5/pages/feedback/feedback.vue?bdd9","webpack:////Users/dede/Desktop/JobLeaderH5/pages/feedback/feedback.vue?9554","uni-app:///pages/feedback/feedback.vue","webpack:////Users/dede/Desktop/JobLeaderH5/pages/feedback/feedback.vue?9792","webpack:////Users/dede/Desktop/JobLeaderH5/pages/feedback/feedback.vue?ab26"],"names":["createPage","Page"],"mappings":"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","file":"pages/feedback/feedback.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/feedback/feedback.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./feedback.vue?vue&type=template&id=91bba7b4&\"\nvar renderjs\nimport script from \"./feedback.vue?vue&type=script&lang=js&\"\nexport * from \"./feedback.vue?vue&type=script&lang=js&\"\nimport style0 from \"./feedback.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/feedback/feedback.vue\"\nexport default component.exports","export * from \"-!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./feedback.vue?vue&type=template&id=91bba7b4&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./feedback.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./feedback.vue?vue&type=script&lang=js&\"","<template>\n    <view>\n        <form>\n        \t<view class=\"cu-form-group margin-top-xs\">\n        \t\t<view class=\"title\">反馈类型</view>\n<picker @change=\"PickerChange\" :value=\"index\" :range=\"picker\">\n\t\t\t\t\t<view class=\"picker \">\n\t\t\t\t\t\t{{index>-1?picker[index]:'请选择'}}\n                        </view>\n                        </picker>\n        \t</view>\n            \n            <view class=\"cu-form-group margin-top-xs\">\n            \t<view class=\"title\">情况说明</view>\n            </view>\n            <view class=\"cu-form-group flex-direction\">\n            \t<textarea class=\"textarea\" maxlength=\"200\" v-model=\"reason\" placeholder=\"请输入反馈信息\"></textarea>\n\n                \n            </view>\n            \n            <view class=\"bg-white\">\n            \t<view class=\"hint\">\n            \t\t已输入<span>{{inputNums}}</span>/200\n            \t</view>\n            </view>\n            <view class=\"cu-bar bg-white margin-top-xs\">\n            \t<view class=\"action\">\n            \t\t图片上传（最多上传3张图片）\n            \t</view>\n            \t\n            </view>\n            \n            <view class=\"cu-form-group\">\n            \t<view class=\"grid col-4 grid-square flex-sub\">\n            \t\t<view class=\"bg-img\" v-for=\"(item,index) in imgList\" :key=\"index\" @tap=\"ViewImage\" :data-url=\"imgList[index]\">\n            \t\t <image :src=\"imgList[index]\" mode=\"aspectFill\"></image>\n            \t\t\t<view class=\"cu-tag bg-red\" @tap.stop=\"DelImg\" :data-index=\"index\">\n            \t\t\t\t<text class='cuIcon-close'></text>\n            \t\t\t</view>\n            \t\t</view>\n            \t\t<view class=\"solids\" @tap=\"ChooseImage\" v-if=\"imgList.length<3\">\n            \t\t\t<text class='cuIcon-cameraadd'></text>\n            \t\t</view>\n            \t</view>\n            </view>\n            <view class=\"cu-form-group margin-top-xs\">\n            \t<view class=\"title\">联系方式</view>\n            </view>\n            <view class=\"cu-form-group\">\n            \t<input placeholder=\"手机/邮箱/QQ (选填)\" name=\"input\" v-model=\"phone\" style=\"text-align:left\">\n                </input>\n            </view>\n            <button class=\"bg-sys\" @click=\"upload\">提交</button>\n\n        </form>\n    </view>\n</template>\n\n<script>\n    import Vue from 'vue'\n    import {\n    \tmapState\n    } from 'vuex'\n    export default {\n        onLoad() {\n            var params = this.getHashParameters();\n            this.appAccessToken = params['appAccessToken'];\n            this.userToken = params['token'];\n        },\n        computed: {\n            inputNums: function() {\n                return this.reason.length;\n            }\n        },\n    \tdata() {\n    \t\treturn {\n    \t\t\timgList: [],\n                index: -1,\n                picker: ['程序bug', '吐槽', '其他'],\n    \t        cardNo:\"\",\n    \t        reason:'',\n    \t        driverName:'',\n    \t        loadModal:false,\n    \t        modalName: \"\",\n    \t        urlArray: [],\n    \t        type: 0,\n                appAccessToken:'',\n                userToken:'',\n                reason:'',\n                phone:''\n    \t\t};\n    \t},\n    \tmethods: {\n            getHashParameters() {\n                var arr = (location.hash || '').split('?')[1].split('&')\n                var params = {}\n                for (var i = 0; i < arr.length; i++) {\n                    var data = arr[i].split('=')\n                    if (data.length === 2) {\n                        params[data[0]] = data[1]\n                    }\n                }\n                return params\n            },\n            PickerChange(e) {\n                this.index = e.detail.value\n            },\n            showModal(e) {\n                this.modalName = \"bottomModal\"  \n            },\n            hideModal(e) {\n            \tthis.modalName = null\n            },\n            LoadModal(e) {\n            \tuni.showLoading({\n            \t\ttitle: 'loading'\n            \t});\n            },\n            ChooseImage() {\n                var that = this\n            \tuni.chooseImage({\n            \t\tcount: 1, //默认9\n            \t\tsizeType: ['compressed'], //可以指定是原图还是压缩图，默认二者都有\n            \t\tsourceType: ['album','camera'], //从相册选择\n            \t\tsuccess: (res) => {\n            \t\t\tif (that.imgList.length != 0) {\n                            if ((that.imgList.length + res.tempFilePaths.length) <= 3) {\n                              that.imgList = that.imgList.concat(res.tempFilePaths)\n                            } else {\n                                uni.showToast({\n                                    title:'最多只能上传3张图片',\n                                    icon:'none'\n                                })\n                            }\n            \t\t\t} else {\n            \t\t\t\tthat.imgList = res.tempFilePaths\n            \t\t\t}\n                        that.uploadImage(res.tempFilePaths)\n            \t\t}\n            \t});\n            },\n            ViewImage(e) {\n            \tuni.previewImage({\n            \t\turls: this.imgList,\n            \t\tcurrent: e.currentTarget.dataset.url\n            \t});\n            },\n            uploadImage(array) {\n                uni.uploadFile({\n                    url: this.GLOBAL.UploadHeaderImage,\n                    name:'file',\n                    filePath:array[0],\n                    formData: {\n                        'file': 'file',\n                        'appAccessToken':this.appAccessToken,\n                    },\n                    success: (uploadFileRes) => {\n                        uni.hideLoading();\n                        console.log(uploadFileRes.data);\n                        let response = JSON.parse(uploadFileRes.data);\n                        if (response.code == 0) {\n                            if (this.urlArray.length < 3) {\n                                this.urlArray.push(response.data)\n                            }\n                        } else {\n                            uni.showToast({\n                            \ttitle:response.message,\n                            \ticon:\"none\"\n                            }) \n                        }\n                    },\n                    fail: (err) => {  \n                        uni.hideLoading();\n                            console.log(err)  \n                        },  \n                        complete: (complete) => {  \n                            console.log(complete)   \n                        }  \n                });\n            },\n            \n            DelImg(e) {\n            \tuni.showModal({\n            \t\tcontent: '确定要删除这张照片吗？',\n            \t\tcancelText: '取消',\n            \t\tconfirmText: '确定',\n            \t\tsuccess: res => {\n            \t\t\tif (res.confirm) {\n            \t\t\t\tthis.imgList.splice(e.currentTarget.dataset.index, 1)\n                            this.urlArray.splice(e.currentTarget.dataset.index, 1)\n            \t\t\t}\n            \t\t}\n            \t})\n            },\n            \n            upload() {\n                if (this.index < 0) {\n                    uni.showToast({\n                        title:\"请选择反馈类型\",\n                        icon:'none'\n                    })\n                    return\n                }\n                if( this.reason.length == 0 ) {\n                    uni.showToast({\n                        title:\"请输入反馈信息\",\n                        icon:'none'\n                    })\n                    return\n                }\n                var url = [];\n                url = url.concat(this.urlArray)\n                while(url.length < 3) {\n                    url.push('')\n                }\n                \n                var uploadUrl = ''\n                for(var i = 0; i < url.length; i++ ) {\n                    if(url[i].length != 0) {\n                        uploadUrl = uploadUrl + url[i].url + ','\n                    }\n                }\n                \n                \n                this.LoadModal()\n                uni.request({\n                    url: this.GLOBAL.FeedBack_URL,\n                    method: 'POST',\n                    dataType: 'jsonp',\n                    header: {\n                        'Content-Type':'application/x-www-form-urlencoded'\n                    },\n                    data: {\n                        token:this.userToken,\n                        appAccessToken:this.appAccessToken,\n                        type: this.picker[this.index], // 页码\n                        phone:this.phone,\n                        content:this.reason,\n                        imgs:uploadUrl,\n                    }\n                }).then(data => {\n                    //data为一个数组，数组第一项为错误信息，第二项为返回数据\n                    uni.hideLoading();\n                    var [error, res]  = data;\n                    console.log(res.data);\n                    let response = JSON.parse(res.data);\n            \n                    if ( response.code == 0 ) {\n                        uni.showModal({\n                            title: null,\n                            showCancel: false,\n                        \tcontent: '提交成功',\n                        \tconfirmText: '知道了',\n                        \tsuccess: res => {\n                                \n                        \t}\n                        })\n                    } else {\n                        uni.showToast({\n                        \ttitle:response.msg,\n                        \ticon:\"none\"\n                        }) \n                    }\n                }).catch(err => {\n                    uni.hideLoading();\n                \tconsole.log('request fail', err);\n                \tuni.showModal({\n                \t\tcontent: err.errMsg,\n                \t\tshowCancel: false\n                \t});\n                }); \n            }\n    \t}\n    }\n</script>\n\n<style>\n    \n.bg-sys {\n\tbackground-color: #3AA7FF;\n\tcolor: #ffffff;\n    margin-top: 34rpx;\n    margin-left: 30rpx;\n    margin-right: 30rpx;\n}\n.textarea {\n    background-color: #FFFFFF;\n    height: 200rpx;\n}\n.hint {\n    background-color: #FFFFFF;\n    text-align: right;\n    padding-right: 30rpx;\n}\nspan {\n    color: #007AFF;\n}\n</style>\n","import mod from \"-!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./feedback.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./feedback.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1604365226965\n      var cssReload = require(\"/Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}